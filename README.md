# K-Connect UserBot

Автоматический бот для публикации контента в социальной сети K-Connect.

## Возможности

- Автоматическая публикация изображений по расписанию
- Поддержка переключения между различными аккаунтами/каналами
- Отслеживание опубликованных файлов во избежание повторных публикаций
- Подробное логирование всех действий

## Установка

1. Убедитесь, что у вас установлен Python 3.10+
2. Клонируйте репозиторий или скопируйте файлы в рабочую директорию
3. Установите зависимости:
   ```
   pip install requests schedule
   ```
4. Создайте папку `memes` в директории скрипта для хранения изображений

## Настройка

Настройте основные параметры в файле `main.py`:

### Авторизация

Можно использовать один из двух способов авторизации:

1. **Через сессионный токен**:
   ```python
   TOKEN = 'ваш_токен_сессии'  # Значение cookie konnect_session
   ```

2. **Через логин/пароль**:
   ```python
   USERNAME = 'ваш_email'
   PASSWORD = 'ваш_пароль'
   ```

### Управление каналами

Вы можете публиковать посты через основной аккаунт или через канал:

1. **Для публикации через основной аккаунт**:
   ```python
   CHANNEL_NAME = ''
   ACCOUNT_ID = None
   ```

2. **Для публикации через канал по имени**:
   ```python
   CHANNEL_NAME = 'имя_канала'  # Имя или username канала
   ACCOUNT_ID = None
   ```

3. **Для публикации через канал по ID**:
   ```python
   CHANNEL_NAME = ''
   ACCOUNT_ID = 12345  # ID канала/аккаунта
   ```

### Другие настройки

- `API_URL` - адрес API сервера K-Connect
- `MEMES_FOLDER` - путь к папке с изображениями для публикации
- `DATABASE_FILE` - путь к БД для отслеживания опубликованных файлов

## Использование

1. Поместите изображения в папку `memes`
2. Запустите скрипт:
   ```
   python main.py
   ```

Бот будет:
1. Авторизоваться в системе
2. При необходимости переключиться на указанный канал
3. Сразу опубликовать один пост
4. Затем продолжить публикацию по расписанию (по умолчанию - раз в час)

### Поддерживаемые форматы изображений

- JPG/JPEG
- PNG
- GIF
- WEBP

## Решение проблем

### Ошибка авторизации

Если вы видите ошибку авторизации:

1. Проверьте правильность логина/пароля
2. Обновите токен сессии в настройках (если используете его)
3. Проверьте, не заблокирован ли ваш аккаунт

### Не получается переключиться на канал

1. Проверьте, что имя канала указано верно (включая регистр)
2. Проверьте, что вы являетесь владельцем этого канала
3. Попробуйте использовать ID канала вместо имени

### Журнал ошибок

Проверьте файл `userbot.log` для получения подробной информации об ошибках. 